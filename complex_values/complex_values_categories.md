# Complex values categories

Steve Baskauf - 2023-03-30

This document is an attempt to systematically categorize common types of complex values. In each category, a graph diagram shows the general relationships among resources. In the diagrams, ovals represent non-literal resources that are instances of some class, and which could be denoted by IRIs (but in many cases are not; i.e. blank or anonymous nodes). These resources could be further described by making them the subjects of additional triples (i.e. create directed edges from them to other nodes). Rectangles denote literal-valued resources. These resources may represent instances of some class that may be fully described by applying some datatype (e.g. boolean or integer values), or they may simply represent untyped strings whose interpretation is left to the consumer. In either case, they are dead-ends as they cannot serve as the subject of other triples. 

For each category, a simple RDF Turtle serialization is provided to describe the relationships shown in the graph diagram in a machine-readable way. To convert the Turtle into raw triples representing each edge in the diagram, paste the Turtle into an RDF validator/converter, such as [Easy RDF](https://www.easyrdf.org/converter) and select N-Triples as the output format.

Immediately following the Turtle serialization, a JSON-LD serialization is provided ("JSON-LD with CURIES", where [CURIE abbreviates "Compact URIs"](https://www.w3.org/TR/curie/)). There are many forms for JSON-LD and this form was chosen to make the JSON look as similar to the Turtle as possible. To confirm that the graph described by the JSON-LD is identical to that described by the Turtle, paste the JSON-LD into the [JSON-LD Playground](https://json-ld.org/playground/) and select the N-Quads tab for output. Although the arbitrary blank node identifiers used will differ from those generated by Easy RDF, the triples themselves should be identical.

The third example in each category is simple JSON that could be used to express the relationships shown in the diagram. It is similar to what a developer might provide from an API and is in several cases derived from examples provided by Ben Norton. These examples cannot be directly compared with the previous two, since they do not provide the semantic information necessary to map the keys to particular standard vocabulary terms. They also do not distinguish between literal strings and strings that denote IRIs.

The fourth example re-formats the JSON-LD by defining the meaning of each of the keys (i.e. JSON names) in the context node. In the case where values of properties are IRIs, this is declared using `@type` in the context. The result is that the non-context JSON is identical to the simple JSON shown in the third example. In other words, the fourth example shows how precise semantics can be imposed on the simple JSON by providing an appropriate context.

## Category 1: Multiple literal values

![multiple literal value diagram](images/multiple_literals.png)



**Current tabular data serialization**

```
"skin | skull | skeleton"
```

**RDF Turtle**

```
@prefix dwc: <http://rs.tdwg.org/dwc/terms/> .
[] dwc:preparations "skin",
                    "skull",
                    "skeleton".
```

**JSON-LD with CURIES**

```
{
  "@context": {
    "dwc": "http://rs.tdwg.org/dwc/terms/"
  },
  "dwc:preparations": [
    "skin",
    "skull",
    "skeleton"
  ]
}
```

**Simplified JSON**

```
{
  "preparations": [
    "skin",
    "skull",
    "skeleton"
  ]
}
```

**JSON-LD without CURIES**

```
{
  "@context": {
    "preparations": "http://rs.tdwg.org/dwc/terms/preparations"
  },
  "preparations": [
    "skin",
    "skull",
    "skeleton"
  ]
}
```

## Category 2: Multiple IRI-denoted values

![multiple IRI value diagram](images/multiple_iri.png)

**RDF Turtle**

```
@prefix dwciri: <http://rs.tdwg.org/dwc/iri/> .
[] dwciri:recordedBy <https://orcid.org/0000-0002-1772-1045>,
                  <https://orcid.org/0000-0003-1715-4850>,
                  <https://orcid.org/0000-0003-4365-3135>.
```

**JSON-LD with CURIES**

```
{
  "@context": {
    "dwciri": "http://rs.tdwg.org/dwc/iri/"
  },
  "dwcdwciri:recordedBy": [
    {"@id": "https://orcid.org/0000-0002-1772-1045"},
    {"@id": "https://orcid.org/0000-0003-1715-4850"},
    {"@id": "https://orcid.org/0000-0003-4365-3135"}
  ]
}
```

**Simplified JSON**

```
{
  "recordedBy": [
    "https://orcid.org/0000-0002-1772-1045",
    "https://orcid.org/0000-0003-1715-4850",
    "https://orcid.org/0000-0003-4365-3135"
  ]
}
```

**JSON-LD without CURIES**

```
{
  "@context": {
    "recordedBy": {
        "@id": "http://rs.tdwg.org/dwc/iri/recordedBy",
        "@type": "@id"
    }
  },
  "recordedBy": [
    "https://orcid.org/0000-0002-1772-1045",
    "https://orcid.org/0000-0003-1715-4850",
    "https://orcid.org/0000-0003-4365-3135"
  ]
}
```

## Category 3: Single blank node value

![diagram of a single blank node resource value](images/single_bn.png)

**RDF Turtle**

```
@prefix dwciri: <http://rs.tdwg.org/dwc/iri/> .
@prefix dwc: <http://rs.tdwg.org/dwc/terms/> .
[] dwciri:eventDuration [
    dwc:measurementValue 12;
    dwc:measurementUnit "h"
    ].
```

**JSON-LD with CURIES**

```
{
  "@context": {
    "dwciri": "http://rs.tdwg.org/dwc/iri/",
    "dwc": "http://rs.tdwg.org/dwc/terms/"
  },
  "dwciri:eventDuration": {
    "dwc:measurementValue": 12,
    "dwc:measurementUnit": "h"
  }
}
```

**Simplified JSON**

```
{
  "eventDuration": {
    "measurementValue": 12,
    "measurementUnit": "h"
  }
}
```

**JSON-LD without CURIES**

```
{
  "@context": {
    "eventDuration": {
        "@id": "http://rs.tdwg.org/dwc/iri/eventDuration"
    },
    "measurementValue": {
        "@id": "http://rs.tdwg.org/dwc/terms/measurementValue"
    },
    "measurementUnit": {
        "@id": "http://rs.tdwg.org/dwc/terms/measurementUnit"
    }
  },
  "eventDuration": {
    "measurementValue": 12,
    "measurementUnit": "h"
  }
}
```

## Category 4: Multiple blank node values

![diagram of a multiple blank node resource values](images/multiple_bn.png)

**RDF Turtle**

```
@prefix dwciri: <http://rs.tdwg.org/dwc/iri/> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix skosxl: <http://www.w3.org/2008/05/skos-xl#> .
@prefix ex: <http://example.org/> .
[] dwciri:vernacularName [
    skosxl:literalForm "Mountain Lion";
    dc:language "en";
    ex:isPrimary true
    ],
    [
    skosxl:literalForm "Cougar";
    dc:language "en";
    ex:isPrimary false
    ].
```

**JSON-LD with CURIES**

```
{
  "@context": {
    "dwciri": "http://rs.tdwg.org/dwc/iri/",
    "dc": "http://purl.org/dc/elements/1.1/",
    "skosxl": "http://www.w3.org/2008/05/skos-xl#",
    "ex": "http://example.org/"
  },
  "dwciri:vernacularName": [
    {
    "skosxl:literalForm": "Mountain Lion",
    "dc:language": "en",
    "ex:isPrimary": true
    },
    {
    "skosxl:literalForm": "Cougar",
    "dc:language": "en",
    "ex:isPrimary": false
    }
  ]
}
```

**Simplified JSON**

```
{
  "vernacularName": [
    {
    "literalForm": "Mountain Lion",
    "language": "en",
    "isPrimary": true
    },
    {
    "literalForm": "Cougar",
    "language": "en",
    "isPrimary": false
    }
  ]
}
```

**JSON-LD without CURIES**

```
{
  "@context": {
    "vernacularName": {
        "@id": "http://rs.tdwg.org/dwc/iri/vernacularName"
    },
    "literalForm": {
        "@id": "http://www.w3.org/2008/05/skos-xl#literalForm"
    },
    "language": {
        "@id": "http://purl.org/dc/elements/1.1/language"
    },
    "isPrimary": {
        "@id": "http://example.org/isPrimary"
    }
  },
  "vernacularName": [
    {
    "literalForm": "Mountain Lion",
    "language": "en",
    "isPrimary": true
    },
    {
    "literalForm": "Cougar",
    "language": "en",
    "isPrimary": false
    }
  ]
}
```
